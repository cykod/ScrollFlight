<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Menu Example</title>
  <link rel='stylesheet' href='style.css' />
  <script src='https://code.jquery.com/jquery-2.1.3.js'></script>
  <script src='../scroll_flight.js'></script>
</head>
<body>

<nav class='menu'>
  <ul>
    <li><a href='#page1'></a></li>
    <li><a href='#page2'></a></li>
    <li><a href='#page3'></a></li>
    <li><a href='#page4'></a></li>
  </ul>
</nav>

<div id='page1' class='page full-page scroller'>
  <div class='title scroller'>Here's the first title</div>
</div>

<div id='page2' class='page full-page scroller'>
  <div class='title scroller'>Here's the second title</div>
</div>


<div id='page3' class='page full-page scroller'>
  <div class='title scroller'>Here's the third title</div>
</div>


<div id='page4' class='page full-page scroller'>
  <div class='title scroller'>Whoa, another title</div>
</div>

<script>

$(".scroller").scrollFlight();

$(".page").on("arriving rearriving",function() {
  $(this).find(".title").addClass("arrived");
});


$(".page").on("arriving rearriving",function() {
  // Grab find the href of the menu it to go to
  var href='#' + this.id;

  // Unselect the current menu item
  $(".menu a.selected").removeClass("selected");

  // Add a class of selected to the menu item with this page as an anchor
  $(".menu").find("a[href='" + href + "']").addClass("selected");
});

// Optional support for smooth scroll
$(".menu a").on("click",function(e) {
  // prevent the browser from jumping
  e.preventDefault();

  // Get the position of the page 
  var top = $($(this).attr('href')).position().top;

  // Animate to the body to scroll to the proper place
  $('html, body').stop().animate({ scrollTop: top });
});

</script>
</body>
</html>
